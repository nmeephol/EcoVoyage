<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoVoyage Navigation Bar</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!--custome css;-->
    <link rel="stylesheet" href="custome.css">

    <!--js-->
    <link href="hello.js">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     
    <!----===== Iconscout CSS ===== -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
</head>

<body class="bodyplan">
    <!--form-->
    <div class="container">
            <header>สร้างแผนการเดินทาง</header>
            <form class="myForm">
                <div class="planform">
                        <div class="fields">
                            <div class="input-field">
                                <label for="place">ต้องการเดินทางไปที่ไหน?</label>
                                <input list="place" id="myplace" name="place" placeholder="เขต/อำเภอ/จังหวัด" required>
                                <datalist id="place">
                                    <option value="บางเขน กรุงเทพ">
                                    <option value="จตุจักร กรุงเทพ">    
                                    <option value="บางบัว">
                                </datalist>    
                            </div>
                            <div class="input-field">
                                <label>ต้องการเดินทางเมื่อไหร่</label>
                                <input type="date" id="mydate" placeholder="Enter birth date"  required>
                            </div>
                            <div class="input-field">
                                <label>ใช้เวลาท่องเที่ยวกี่วัน ?</label>
                                <div>
                                    <button type="button" class="inde" id="decreaseBtn">-</button>
                                    <input class="numOfday" type="number" id="numberInput" value="1"  readonly required>
                                    <button type="button" class="inde" id="increaseBtn">+</button>
                                </div>
                            </div>
                            <div class="input-field">
                                <label>งบประมาณคร่าวๆในการเดินทาง</label>
                                <input type="number" id="mybudjet" placeholder="(Bath)1000" onkeydown="return isNumber(event)">
                            </div>
                            <div class="input-field">
                                <label>ใช้เวลาท่องเที่ยวกี่วัน ?</label>
                                <div>
                                    <button type="button" class="inde" id="persondecreaseBtn">-</button>
                                    <input class="numOfday"  type="number" id="numpersonInput" value="1" readonly>
                                    <button type="button" class="inde" id="personincreaseBtn">+</button>
                                </div>
                            </div>
                        </div>

                        <div class="activities">
                            <label class="labelact">กิจกรรมหรือไลฟ์สไตล์ที่คุณสนใจ</label>
                            <label class="labelact1">(เลือก 3 กิจกรรมขึ้นไป และเลือกได้สูงสุด 6 กิจกรรม)</label>
                            <!-- ใส่ id และชื่อกิจกรรม -->
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/Animals.png" class="iconact" alt="AnimalsIcon">ชมสัตว์
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/art.png" class="iconact" alt="Art">ศิลปะ
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/bycicle.png" class="iconact" alt="bycicle">ปั่นจักรยาน
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/exercise.png" class="iconact" alt="exercise">ออกกำลังกาย
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/flower.png" class="iconact" alt="flower">ดอกไม้
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/Food.png" class="iconact" alt="Food">อาหาร
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/learning.png" class="iconact" alt="learning">การเรียนรู้
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/photoshoot.png" class="iconact" alt="photoshoot">ถ่ายภาพ
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/picnic.png" class="iconact" alt="picnic">ปิกนิก
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/Pray.png" class="iconact" alt="Pray">ปฏิบัติธรรม
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/relationalACT.png" class="iconact" alt="relationalACT">กิจกรรมร่วม
                            </button>
                            <button type="button" class="activity-button" onclick="toggleSelection(this)">
                                <img src="icon/Activities/waterACT.png" class="iconact" alt="waterACT">กิจกรรมทางน้ำ
                            </button>
                        </div>

                        <br>

                        <div class="Btn">
                            <button type="submit" id="submit-btn" class="nextBtn">
                                <span class="btnText">แพลนสำหรับฉัน</span>
                            </button>
                            &nbsp;&nbsp;&nbsp;&nbsp;
                            <button type="button" class="nextBtn">
                                <span class="btnText">สร้างแพลนเอง</span>
                            </button>
                        </div>
                </div>
            </form>
        </div>  

    <script>
        //ปุ่มเพิ่มลดตัวเลข
        document.addEventListener('DOMContentLoaded', function () {
            let numberInput = document.getElementById('numberInput');
            let decreaseBtn = document.getElementById('decreaseBtn');
            let increaseBtn = document.getElementById('increaseBtn');
            let number = parseInt(numberInput.value);
    
            // เพิ่มค่า
            increaseBtn.addEventListener('click', function () {
                number++;
                numberInput.value = number;
            });
    
            // ลดค่า แต่ไม่ให้ต่ำกว่า 1
            decreaseBtn.addEventListener('click', function () {
                if (number > 1) {
                    number--;
                    numberInput.value = number;
                }
            });
        });

        //ปุ่มเพิ่มลดตัวเลข
        document.addEventListener('DOMContentLoaded', function () {
            let numberInput = document.getElementById('numpersonInput');
            let decreaseBtn = document.getElementById('persondecreaseBtn');
            let increaseBtn = document.getElementById('personincreaseBtn');
            let number = parseInt(numberInput.value);
    
            // เพิ่มค่า
            increaseBtn.addEventListener('click', function () {
                number++;
                numberInput.value = number;
            });
    
            // ลดค่า แต่ไม่ให้ต่ำกว่า 1
            decreaseBtn.addEventListener('click', function () {
                if (number > 1) {
                    number--;
                    numberInput.value = number;
                }
            });
        });

        //จำกัดการเลือกกิจกรรม
        //เก็บจำนวนที่เลือกไว้
        let selectedCount = 0;

        // ฟังก์ชันจัดการการเลือก
        function toggleSelection(button) {
        if (button.classList.contains("selected")) {
            button.classList.remove("selected");
            selectedCount--;
        } else {
            if (selectedCount < 6) {
            button.classList.add("selected");
            selectedCount++;
            } else {
            alert("คุณสามารถเลือกกิจกรรมได้สูงสุด 6 กิจกรรม");
            }
        }
        updateSubmitButton();
        }

        // อัพเดทสถานะของปุ่ม Submit
        function updateSubmitButton() {
            const submitButton = document.querySelector(".nextBtn");

            if (selectedCount >= 3 && selectedCount <= 6) {
                submitButton.disabled = false;
                
            } else {
                submitButton.disabled = true;
                
            }
        }
        
        //แก้ตรงนี้
        // ฟังก์ชันตรวจสอบว่ากรอกข้อมูลในแต่ละฟิลด์ครบถ้วนหรือไม่
        function checkFormCompletion() {
            const myplace = document.getElementById('myplace').value.trim();
            const mydate = document.getElementById('mydate').value.trim();
            const mybudjet = document.getElementById('mybudjet').value.trim();

        // ตรวจสอบแต่ละฟิลด์
            const isComplete = name !== '' && email !== '' && phone !== '';

            if(isComplete=="true"){
                return true;
            }else{
                return false;
            }
        }
        //ถึงตรงนี้

        // เรียกใช้ฟังก์ชันตรวจสอบเมื่อมีการกรอกข้อมูลในฟิลด์
        document.getElementById('myplace').addEventListener('input', checkFormCompletion);
        document.getElementById('mydate').addEventListener('input', checkFormCompletion);
        document.getElementById('mybudjet').addEventListener('input', checkFormCompletion);


        //ล็อคไม่ให้้พิมอักษรในค่าใช้จ่าย 
        function isNumber(event) {
            const key = event.key;

            // ตรวจสอบให้แน่ใจว่าเป็นตัวเลข, backspace, หรือ delete
            if (!/^[0-9]$/.test(key) && key !== 'Backspace' && key !== 'Delete') {
                // ป้องกันไม่ให้กรอกตัวอักษร
                event.preventDefault();
            }
        }

    </script>
    
        <!--navbar-->
    <div class="navbar">
        <div class="logo" onclick="document.location='Homepage.html'">EcoVoyage</div> <!-- โลโก้ -->
        <a class="loginOrRegist" href="Login.html">เข้าสู่ระบบ</a>
    </div>
</body>
</html>